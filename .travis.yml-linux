sudo: required

dist: trusty

language: python

python:
  - 2.7
  - 3.4
  - 3.5
  - nightly

env:
  - PYTHON=python

install:
  - pip install coverage
  - pip install codecov
  - make install

script:
  - make test TEST_ARGS='--test-installed'
  - coverage run --source='lib/tsdesktop' test.py

after_success:
  - coverage report
  - codecov

notifications:
  irc:
    - irc.freenode.org#tsadm
